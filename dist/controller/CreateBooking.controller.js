sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/core/format/DateFormat","sap/m/library","sap/m/MessageBox"],function(t,e,o,n,i){"use strict";var a;return t.extend("zsd031hoteldetail.controller.CreateBooking",{onInit:function(){var t=this.getOwnerComponent().getRouter();t.getRoute("CreateBooking").attachMatched(function(t){this._selectItemWithId(t.getParameter("arguments").hotelId)},this);var e=new Date;console.log(e)},_selectItemWithId:function(t){a=parseInt(t);const o=new e;let n={HotelId:a,Id:0,Name:"",Firstname:"",Startdate:"2022.01.01",Nights:0,Email:""};o.setProperty("/booking",n);this.getView().setModel(o)},onCreatePressed:function(){let t=this.getView().getModel().getProperty("/booking");let e=true;t.Nights=parseInt(t.Nights);let n=t.Startdate;const a=o.getDateTimeInstance({pattern:"dd/MM/yyyy"});try{let e=n.split(".");let o=e[0]+"-"+e[1]+"-"+e[2];t.Startdate=a.parse(o+"T00:00:00")}catch(t){e=false}if(!e||t.Startdate==null){i.show("Use the date picker to choose a valid date.",{icon:i.Icon.INFORMATION,title:"Use the date picker",actions:[i.Action.OK],onClose:function(t){/ * do something * /}})}else if(t.Startdate<=new Date){i.show("The date that you'll arrive, can only be in the future.",{icon:i.Icon.INFORMATION,title:"Date can only be in the future.",actions:[i.Action.OK],onClose:function(t){/ * do something * /}})}else if(isNaN(t.Nights)||t.Nights===0){i.show("Fill in a number other than 0 in the field Nights.",{icon:i.Icon.INFORMATION,title:"Fill in a number",actions:[i.Action.OK],onClose:function(t){/ * do something * /}})}else{this.getOwnerComponent().getModel().create("/bookingSet",t);this.navToDetail()}},navToDetail:function(){this.getRouter().navTo("Detail",{hotelId:a})}})});